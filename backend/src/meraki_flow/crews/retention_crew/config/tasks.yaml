detect_stall_task:
  description: >
    Analyze the user's engagement patterns for signs of stalling or disengagement.

    User data:
    - Hobby: {hobby_name}
    - Days inactive: {days_inactive}
    - Current streak: {current_streak}
    - Session count: {session_count}
    - Recent emotional history: {emotional_history}

    Look for warning signs such as:
    - Increasing gaps between sessions
    - Declining emotional responses
    - Broken streaks
    - Patterns of frustration
  expected_output: >
    A stall assessment including:
    - Current engagement status (active, at-risk, stalling, disengaged)
    - Risk factors identified
    - Urgency level (low, medium, high)
    - Recommended intervention type
  agent: motivation_agent

select_intervention_task:
  description: >
    Based on the stall assessment, select and craft an appropriate intervention
    to re-engage the user with {hobby_name}.

    User context:
    - Days inactive: {days_inactive}
    - Session count: {session_count}
    - Emotional history: {emotional_history}

    Intervention types to consider:
    - Gentle reminder (low urgency)
    - Motivation boost (medium urgency)
    - Fresh start offer (high urgency)
    - Check-in conversation (any urgency)
  expected_output: >
    A personalized intervention including:
    - Intervention type selected
    - Personalized message for the user
    - Suggested action or next step
    - Tone appropriate to their situation
    - Follow-up recommendation if no response
  agent: motivation_agent

detect_pattern_task:
  description: >
    Analyze the user's hobby journey to identify patterns that might explain
    why they feel stuck or directionless.

    User context:
    - Hobby: {hobby_name}
    - Session count: {session_count}
    - Emotional history: {emotional_history}
    - Current challenge: {current_challenge}

    Look for:
    - What types of activities they've enjoyed most
    - Where they've struggled repeatedly
    - Skills they've developed vs. avoided
    - Potential sources of boredom or frustration
  expected_output: >
    A pattern analysis including:
    - Engagement patterns (what excites them, what doesn't)
    - Skill development patterns (strengths, gaps)
    - Emotional patterns (triggers for positive/negative feelings)
    - Hypotheses for why they might feel stuck
  agent: stuck_helper

generate_unsticking_suggestion_task:
  description: >
    Based on the pattern analysis, generate creative suggestions to help the
    user get unstuck and find new direction in their {hobby_name} practice.

    Consider:
    - New techniques or approaches they haven't tried
    - Ways to leverage their strengths
    - Fresh challenges that address their interests
    - Community or social aspects they might enjoy
    - Connections to related hobbies or skills
  expected_output: >
    Unsticking suggestions including:
    - 2-3 new directions they could explore
    - For each direction:
      - What it is and why it might appeal to them
      - First step to try
      - How it connects to what they already enjoy
    - A "fresh perspective" reframe on their journey
    - Encouragement that being stuck is normal and temporary
  agent: stuck_helper
